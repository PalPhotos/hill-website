(this["webpackJsonpeashwar-demo"]=this["webpackJsonpeashwar-demo"]||[]).push([[8],{151:function(e,t,n){"use strict";n.r(t),n.d(t,"getLabel",(function(){return r})),n.d(t,"addNewLabel",(function(){return l})),n.d(t,"addNewLabelPic",(function(){return u})),n.d(t,"getOnePicture",(function(){return i})),n.d(t,"getLabelPicture",(function(){return o})),n.d(t,"getPictureNotLabel",(function(){return c})),n.d(t,"editLabelPicture",(function(){return s})),n.d(t,"getAllPicture",(function(){return f})),n.d(t,"addNewPicture",(function(){return d})),n.d(t,"setAllButPics",(function(){return E})),n.d(t,"addToCluster",(function(){return p}));var a=n(4),r=function(){return{type:a.a.GET_LABEL_REQUEST,payload:{}}},l=function(e){return{type:a.a.ADD_LABEL_REQUEST,payload:{name:e}}},u=function(e,t){return{type:a.a.ADD_LABEL_PIC_REQUEST,payload:{name:e,url:t}}},i=function(e){return{type:a.a.GET_PICTURE_REQUEST,payload:{url:e}}},o=function(e){return{type:a.a.GET_PICTURE_LABEL_REQUEST,payload:{labels:e}}},c=function(e){return{type:a.a.GET_PICTURE_NOT_LABEL_REQUEST,payload:{labels:e}}},s=function(e,t,n){return{type:a.a.EDIT_PICTURE_LABEL_REQUEST,payload:{labels:e,url:t,label:n}}},f=function(){return{type:a.a.GET_ALL_PICTURE_REQUEST,payload:{}}},d=function(e,t){return{type:a.a.ADD_PICTURE_REQUEST,payload:{name:e,taken:t}}},E=function(e){return{type:a.a.SET_ALL_BUT_PICS,payload:e}},p=function(e,t){return{type:a.a.ADD_TO_CLUSTER_REQUEST,payload:{values:e,labels:t}}}},157:function(e,t,n){"use strict";var a=n(151);n.d(t,"a",(function(){return a}))},220:function(e,t,n){},249:function(e,t,n){"use strict";n.r(t);var a=n(167),r=n(0),l=n.n(r),u=n(12),i=(n(160),n(168)),o=n(161),c=n(209),s=n.n(c),f=n(55),d=n(18),E=n(157);n(220);t.default=Object(f.b)((function(e){return{admin:e.admin}}),(function(e){return Object(d.b)({addNewLabel:E.a.addNewLabel,getLabel:E.a.getLabel,addNewLabelPic:E.a.addNewLabelPic,getOnePicture:E.a.getOnePicture},e)}))((function(e){var t=l.a.createRef(),n=l.a.createRef(),c=(Object(u.f)(),Object(r.useState)([null,null])),f=Object(a.a)(c,2),d=f[0],E=f[1],p=Object(r.useState)(!0),b=Object(a.a)(p,2),g=b[0],h=b[1],m=Object(r.useState)(e.location.state.url),v=Object(a.a)(m,2),y=v[0],L=(v[1],Object(r.useState)([{name:"happy"},{name:"hell"},{name:"hello"}])),P=Object(a.a)(L,2),_=(P[0],P[1],Object(r.useState)([])),S=Object(a.a)(_,2),T=S[0],w=S[1],O=Object(r.useState)(""),R=Object(a.a)(O,2),C=R[0],U=R[1];Object(r.useEffect)((function(){e.getLabel(),e.getOnePicture(y)}),[]),Object(r.useEffect)((function(){if(!g){j();var e=k();A(e)}}),[g]);var j=function(){var e=t.current.getContext("2d"),n=new Image;n.onload=function(){e.drawImage(n,0,0,e.canvas.width,e.canvas.height)},n.src=y},A=function(e){var t=n.current.getContext("2d");e.map((function(e,n){e.map((function(e,a){t.beginPath(),t.arc(a,n,1,0,2*Math.PI),0===e[0]?(t.fillStyle="yellow",t.fill()):1===e[0]?(t.fillStyle="red",t.fill()):2===e[0]&&(t.fillStyle="blue",t.fill()),t.stroke(),t.closePath()}))}))},k=function(){for(var e=[],t=0;t<600;t++){for(var n=[],a=0;a<800;a++)t<150&&a<200?n.push([0]):t<300&&a<400?n.push([1]):t<450&&a<600?n.push([2]):t<450&&a<600?n.push([3]):n.push([4]);e.push(n)}return e},N=function(t){var n=t.trim().replace(/[.*+?^${}()|[\]\\]/g,"\\$&");if(""===n)return[];var a=new RegExp("^"+n,"i"),r=e.admin.labels.filter((function(e){return a.test(e.name)}));return 0===r.length?[{isAddNew:!0}]:r},I={placeholder:"Type a label",value:C,onChange:function(e,t){var n=t.newValue;U(n)}};return l.a.createElement("div",{style:{display:"flex",flexDirection:"row",height:"100%",width:"100%"}},l.a.createElement("div",{id:"sexy",style:{flex:.7,height:"100%"}},g?l.a.createElement("div",{className:"boom",style:{position:"absolute",top:"25%",left:"12.5%"}},l.a.createElement(o.a,{image:y,onSelect:function(e){return console.log(e)},onChange:function(e){return console.log(e)},width:600,height:450})):l.a.createElement("div",{className:"boom",style:{position:"absolute",top:"25%",left:"12.5%"}},l.a.createElement("canvas",{id:"canvas",ref:t,width:600,height:450,style:{backgroundColor:"black",position:"absolute"}}),l.a.createElement("canvas",{id:"canvas",ref:n,width:600,height:450,onMouseDown:function(e){var t=e.nativeEvent,n=t.offsetX,a=t.offsetY;E([n,a])},onMouseMove:function(e){var t=e.nativeEvent,a=t.offsetX,r=t.offsetY;if(null!==d[0]&&null!==d[1]){var l=n.current,u=l.getContext("2d");u.beginPath(),u.clearRect(0,0,l.width,l.height),u.stroke(),u.closePath();var i=a-d[0],o=r-d[1];u.beginPath(),u.rect(d[0],d[1],i,o),u.stroke(),u.closePath()}},onMouseUp:function(e){var t=e.nativeEvent;t.offsetX,t.offsetY;n.current.getContext("2d").save(),E([null,null])},style:{position:"absolute",opacity:.6}}))),l.a.createElement("div",{style:{flex:.3,backgroundColor:"#e1f5fe",height:window.innerHeight}},l.a.createElement("div",null,l.a.createElement(i.a,{onClick:function(){h(!0)},type:g?"primary":null},"Annotate"),l.a.createElement(i.a,{onClick:function(){h(!1)},type:g?null:"primary"},"Mask")),l.a.createElement(s.a,{suggestions:T,onSuggestionsFetchRequested:function(e){var t=e.value;w(N(t))},onSuggestionsClearRequested:function(){w([])},getSuggestionValue:function(e){return e.name},renderSuggestion:function(e){return l.a.createElement("div",null,e.name)},onSuggestionSelected:function(e,t){t.suggestion},inputProps:I}),l.a.createElement(i.a,{onClick:function(){e.addNewLabelPic(C,y),U("")}},"Add Label"),l.a.createElement("div",null,"Existing Labels",l.a.createElement("div",null,e.admin.picture&&e.admin.picture.labels&&e.admin.picture.labels.map((function(e,t){return l.a.createElement(i.a,null,e.name)}))))))}))}}]);
//# sourceMappingURL=8.402f443c.chunk.js.map